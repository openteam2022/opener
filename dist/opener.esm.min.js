function e(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,n){t(e,n),n.add(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,d(o.key),o)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var u={get:function(e){return document.querySelector(e)},getAll:function(e){return document.querySelectorAll(e)},child:function(e,t){return e.querySelector(t)},childs:function(e,t){return e.querySelectorAll(t)},addChild:function(e,t){e.insertAdjacentHTML("beforeend",t)},removeChild:function(e,t){e.removeChild(t)},attr:function(e,t,n){return n&&"string"==typeof n?(e.setAttribute(t,n),!1):e.getAttribute(t)},addClass:function(e,t){e.classList.add(t)},removeClass:function(e,t){e.classList.remove(t)},existClass:function(e,t){return e.classList.contains(t)}},p={merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!p.isObj(e)||!p.isObj(t))return{};if(p.isObj(e)&&!p.isObj(t))return e;function n(e,t){var n=[];return e.forEach((function(e,o){t[i]?n.push(t[i]):n.push(e)})),n}return function e(t,o){for(var i in t)o.hasOwnProperty(i)&&(p.isObj(t[i])?t[i]=e(t[i],o[i]):p.isArr(t[i])?t[i]=n(t[i],o[i]):t[i]=o[i]);return t}(e,t)},randomId:function(){return Date.now().toString(36)+Math.random().toString(36).substring(2)},isObj:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isArr:function(e){return Array.isArray(e)}},f=new WeakSet,m=function(){function t(i){n(this,t),o(this,f),this.config={elem:"",moduleId:"",moduleElem:"",types:["default","success","warn","danger"],type:"default",message:"这是一条消息",duration:1500},e(f,this,g).call(this,i),e(f,this,h).call(this),e(f,this,w).call(this)}return l(t,null,[{key:"create",value:function(){new t({custom:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},system:{moduleId:p.randomId()}})}}])}();function g(e){var t=this,n={type:"default",message:"",duration:1500},o=e.custom,i=e.system;n=p.merge(n,o),t.config=p.merge(t.config,s(s({},n),i)),t.config.elem=u.get("body"),o.type&&!t.config.types.includes(o.type)&&(t.config.type="default")}function h(){var t=this;u.addChild(t.config.elem,e(f,t,v).call(t,t.config)),t.config.moduleElem=u.get("[openui-id=".concat(t.config.moduleId,"]"))}function v(e){return'<div class="open-message" openui-id="'.concat(e.moduleId,'">\n\t\t\t<div class="open-message-wrapper open-message-').concat(e.type,'">\n\t\t\t\t<p class="open-message-title">').concat(e.message,"</p>\n\t\t\t</div>\n\t\t</div>")}function w(){var e=this,t=u.get("[openui-id=".concat(e.config.moduleId,"]"));t&&setTimeout((function(){var n=u.child(t,".open-message-wrapper");u.addClass(n,"open-message-hide"),setTimeout((function(){e.config.moduleElem.remove()}),300)}),e.config.duration)}var y=new WeakSet,b=new WeakMap,k=function(){function i(c){var l,a,r;n(this,i),o(this,y),r=function(){var e=this,t=u.child(e.config.moduleElem,".open-modal-main");u.removeClass(t,"open-modal-main-show");var n=e.config.moduleElem;setTimeout((function(){u.addClass(n,"open-modal-hide"),setTimeout((function(){e.config.moduleElem.remove()}),300)}),100)},t(l=this,a=b),a.set(l,r),this.config={elem:"",moduleId:"",moduleElem:"",title:"标题",message:"内容",cover:!0,lang:{cancel:"取消",ok:"确定"},show:{ok:!0,cancel:!0},click:""},e(y,this,E).call(this,c),e(y,this,C).call(this),e(y,this,O).call(this)}return l(i,null,[{key:"create",value:function(){new i({custom:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},system:{moduleId:p.randomId()}})}}])}();function E(e){var t=this,n={title:"",message:"",cover:!0,lang:{cancel:"取消",ok:"确定"},show:{ok:!0,cancel:!0},click:""},o=e.custom,i=e.system;n=p.merge(n,o),t.config=p.merge(t.config,s(s({},n),i)),t.config.elem=u.get("body")}function C(){var t=this;u.addChild(t.config.elem,e(y,t,x).call(t)),t.config.moduleElem=u.get("[openui-id=".concat(t.config.moduleId,"]")),setTimeout((function(){var e=u.child(t.config.moduleElem,".open-modal-main");u.addClass(e,"open-modal-main-show")}),100)}function O(){var t=this;e(y,t,j).call(t,".open-modal .open-modal-close","close"),e(y,t,j).call(t,".open-modal .open-modal-cancel","cancel"),e(y,t,j).call(t,".open-modal .open-modal-ok","ok")}function j(t,n){var o=this,i=u.child(o.config.moduleElem,t);i&&(i.onclick=function(){var t,i,c=!0;o.config.click&&(c=o.config.click(n)),!1!==c&&(t=b,i=o,t.get(e(t,i))).call(o)})}function x(){var t=this,n=t.config,o=n.show.cancel?e(y,t,T).call(t,n):"",i=n.show.ok?e(y,t,I).call(t,n):"",c=n.cover?"open-modal-cover":"";return'<div class="open-modal '.concat(c,'" openui-id="').concat(n.moduleId,'">\n\t\t\t<div class="open-modal-wrapper">\n\t\t\t\t<div class="open-modal-main">\n\t\t\t\t\t<div class="open-modal-header">\n\t\t\t\t\t\t<p>').concat(n.title,'</p><span class="open-modal-close"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p class="open-modal-content">').concat(n.message,'</p>\n\t\t\t\t\t<div class="open-modal-footer">\n\t\t\t\t\t\t').concat(o+i,"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>")}function I(t){return e(y,this,S).call(this,"open-btn-primary open-modal-ok",t.lang.ok,"bg")}function T(t){return e(y,this,S).call(this,"open-modal-cancel",t.lang.cancel)}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return'<button class="open-btn '.concat(e,'" ').concat(n,">").concat(t,"</button>")}var L=new WeakSet,P=function(){function t(i){n(this,t),o(this,L),this.config={id:"",elem:"",moduleId:"",moduleElem:"",title:"标题",content:"内容",cover:!0,width:"800px",height:"500px",lang:{cancel:"取消",ok:"确定"},show:{ok:!0,cancel:!0,title:!0},click:""},e(L,this,A).call(this,i),e(L,this,W).call(this),e(L,this,q).call(this)}return l(t,[{key:"show",value:function(){var e=this;setTimeout((function(){u.addClass(e.config.elem,"open-dialog-show"),u.removeClass(e.config.elem,"open-dialog-hide"),u.addClass(e.config.moduleElem,"open-dialog-main-show")}),100)}},{key:"hide",value:function(){var e=this;u.addClass(e.config.elem,"open-dialog-hide"),u.removeClass(e.config.elem,"open-dialog-show"),u.removeClass(e.config.moduleElem,"open-dialog-main-show");var t=u.child(e.config.elem,".open-dialog-main");u.existClass(t,"open-dialog-main-full")&&u.removeClass(t,"open-dialog-main-full")}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(!e.id||!u.get(e.id))&&new t({custom:e,system:{moduleId:p.randomId()}})}}])}();function A(e){var t=this,n={id:"",title:"",content:"",cover:!0,width:"800px",height:"500px",lang:{cancel:"取消",ok:"确定"},show:{ok:!0,cancel:!0,title:!0},click:""},o=e.custom,i=e.system;n=p.merge(n,o),t.config=p.merge(t.config,s(s({},n),i)),t.config.elem=u.get(t.config.id),u.attr(t.config.elem,"openui-id",t.config.moduleId),t.config.content=t.config.elem.innerHTML,t.config.elem.innerHTML=""}function W(){u.addChild(this.config.elem,e(L,this,z).call(this)),this.config.moduleElem=u.child(this.config.elem,".open-dialog-main")}function q(){var t=this;e(L,t,H).call(t,".open-dialog .open-dialog-close","close"),e(L,t,H).call(t,".open-dialog .open-dialog-cancel","cancel"),e(L,t,H).call(t,".open-dialog .open-dialog-ok","ok"),e(L,t,M).call(t)}function M(){var e=this,t=u.child(e.config.moduleElem,".open-dialog-full");t&&(t.onclick=function(){var t=u.child(e.config.elem,".open-dialog-main");u.existClass(t,"open-dialog-main-full")?u.removeClass(t,"open-dialog-main-full"):u.addClass(t,"open-dialog-main-full")})}function H(e,t){var n=this,o=u.child(n.config.moduleElem,e);o&&(o.onclick=function(){var e=!0;n.config.click&&(e=n.config.click(t)),!1!==e&&n.hide()})}function z(){var t=this,n=t.config,o=n.show.title?e(L,t,D).call(t,n):"",i=n.show.ok?e(L,t,B).call(t,n):"",c=n.show.ok?e(L,t,N).call(t,n):"";return'<div class="open-dialog-wrapper">\n\t\t\t\t\t<div class="open-dialog-main"  style="width:'.concat(n.width,";height:").concat(n.height,'">\n\t\t\t\t\t\t').concat(o,'\n\t\t\t\t\t\t<div id="dialog-main" class="open-dialog-content">\n\t\t\t\t\t\t\t').concat(n.content,'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="open-dialog-footer">').concat(i+c,"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>")}function D(e){return'<div class="open-dialog-header">\n\t\t\t\t\t<h3>'.concat(e.title,'</h3>\n\t\t\t\t\t<p><span class="open-dialog-full"></span><span class="open-dialog-close"></span></p>\n\t\t\t\t</div>')}function N(t){return e(L,this,F).call(this,"open-btn-primary open-dialog-ok",t.lang.ok,"bg")}function B(t){return e(L,this,F).call(this,"open-dialog-cancel",t.lang.cancel)}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return'<button class="open-btn '.concat(e,'" ').concat(n,">").concat(t,"</button>")}var G=new WeakSet,J=function(){function t(i){n(this,t),o(this,G),this.config={id:"",elem:"",moduleId:"",moduleElem:"",title:"标题",content:"内容",type:"left",size:"500px",lang:{cancel:"取消",ok:"确定"},show:{ok:!0,cancel:!0,title:!0},click:""},e(G,this,K).call(this,i),e(G,this,Q).call(this),e(G,this,R).call(this)}return l(t,[{key:"show",value:function(){var e=this;setTimeout((function(){u.addClass(e.config.elem,"open-drawer-show"),u.removeClass(e.config.elem,"open-drawer-hide"),u.addClass(e.config.moduleElem,"open-drawer-".concat(e.config.type,"-show"))}),100)}},{key:"hide",value:function(){var e=this;u.addClass(e.config.moduleElem,"open-drawer-".concat(e.config.type,"-hide")),u.addClass(e.config.elem,"open-drawer-hide"),setTimeout((function(){u.removeClass(e.config.elem,"open-drawer-show"),u.removeClass(e.config.moduleElem,"open-drawer-".concat(e.config.type,"-hide")),u.removeClass(e.config.moduleElem,"open-drawer-".concat(e.config.type,"-show"))}),300)}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(!e.id||!u.get(e.id))&&new t({custom:e,system:{moduleId:p.randomId()}})}}])}();function K(e){var t=this,n={id:"",title:"",size:"500px",type:"left",lang:{cancel:"取消",ok:"确定"},show:{ok:!0,cancel:!0,title:!0},click:""},o=e.custom,i=e.system;n=p.merge(n,o),t.config=p.merge(t.config,s(s({},n),i)),t.config.elem=u.get(t.config.id),u.attr(t.config.elem,"openui-id",t.config.moduleId),t.config.content=t.config.elem.innerHTML,t.config.elem.innerHTML=""}function Q(){u.addChild(this.config.elem,e(G,this,V).call(this)),this.config.moduleElem=u.child(this.config.elem,".open-drawer-wrapper")}function R(){var t=this;e(G,t,U).call(t,".open-drawer .open-drawer-close","close"),e(G,t,U).call(t,".open-drawer .open-drawer-cancel","cancel"),e(G,t,U).call(t,".open-drawer .open-drawer-ok","ok")}function U(e,t){var n=this,o=u.child(n.config.moduleElem,e);o&&(o.onclick=function(){var e=!0;n.config.click&&(e=n.config.click(t)),!1!==e&&n.hide()})}function V(){var t=this,n=t.config,o="width: ".concat(n.size);"top"!=n.type&&"bottom"!=n.type||(o="height:".concat(n.size));var i=n.show.title?e(G,t,X).call(t,n):"",c=n.show.ok?e(G,t,Z).call(t,n):"",l=n.show.ok?e(G,t,Y).call(t,n):"";return'<div class="open-drawer-wrapper open-drawer-'.concat(n.type,'" style="').concat(o,'">\n\t\t\t\t\t').concat(i,'\n\t\t\t\t\t<div id="drawer-main" class="open-drawer-content">\n\t\t\t\t\t\t').concat(n.content,'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="open-drawer-footer">').concat(c+l,"</div>\n\t\t\t\t</div>")}function X(e){return'<div class="open-drawer-title">\n\t\t\t\t\t<h3>'.concat(e.title,'</h3>\n\t\t\t\t\t<span class="open-drawer-close"></span>\n\t\t\t\t</div>')}function Y(t){return e(G,this,$).call(this,"open-btn-primary open-drawer-ok",t.lang.ok,"bg")}function Z(t){return e(G,this,$).call(this,"open-drawer-cancel",t.lang.cancel)}function $(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return'<button class="open-btn '.concat(e,'" ').concat(n,">").concat(t,"</button>")}var _=new WeakSet,ee=function(){function t(i){n(this,t),o(this,_),this.config={theme:"light",space:10,type:"top",text:"openTip文字气泡"},e(_,this,te).call(this,i),e(_,this,ne).call(this)}return l(t,[{key:"createTip",value:function(e,t,n){var o=document.createElement("div"),i=document.createElement("p");i.innerText=e.text,o.classList.add("open-tip-wrapper"),o.append(i),t.append(o);var c=o.offsetHeight,l=o.offsetWidth;switch(e.type){case"top":o.classList="open-tip-wrapper open-tip-wrapper-".concat(n.config.theme," open-tip-").concat(n.config.theme,"-top open-tip-top-bottom"),o.style.top="-".concat(c+n.config.space,"px");break;case"bottom":o.classList="open-tip-wrapper open-tip-wrapper-".concat(n.config.theme," open-tip-").concat(n.config.theme,"-bottom open-tip-top-bottom"),o.style.bottom="-".concat(c+n.config.space,"px");break;case"left":o.classList="open-tip-wrapper open-tip-wrapper-".concat(n.config.theme," open-tip-").concat(n.config.theme,"-left open-tip-left-right"),o.style.left="-".concat(l+n.config.space,"px");break;case"right":o.classList="open-tip-wrapper open-tip-wrapper-".concat(n.config.theme," open-tip-").concat(n.config.theme,"-right open-tip-left-right"),o.style.right="-".concat(l+n.config.space,"px")}}}],[{key:"create",value:function(){new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}}])}();function te(e){var t={theme:"light",space:10,type:"top",text:""};t=p.merge(t,e),this.config=p.merge(this.config,t)}function ne(){var e=this,t=document.querySelectorAll("[open-tip-text]");if(t.length<1)return!1;t.forEach((function(t,n){t.style.display="inline-block",t.addEventListener("mouseenter",(function(){if(!t.querySelector(".open-tip-wrapper")){t.style.position="relative";var n={text:u.attr(t,"open-tip-text")||e.config.text,type:u.attr(t,"open-tip-type")||e.config.type};e.createTip(n,t,e)}})),t.addEventListener("mouseleave",(function(e){var n=t.querySelector(".open-tip-wrapper");n&&(n.classList.add("open-tip-hide"),setTimeout((function(){try{t.removeChild(n)}catch(e){}}),200))}))}))}var oe=new WeakSet,ie=function(){function t(i){n(this,t),o(this,oe),this.config={id:"",elem:"",moduleId:"",moduleElem:"",text:"default"},e(oe,this,ce).call(this,i),e(oe,this,le).call(this)}return l(t,[{key:"hide",value:function(){var e=this;e.config.moduleElem.remove(),e.config.elem.style.position="static",e.config.elem.style.overflow="static"}}],[{key:"create",value:function(){return new t({custom:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},system:{moduleId:p.randomId()}})}}])}();function ce(e){var t=this,n={id:"",text:""},o=e.custom,i=e.system;n=p.merge(n,o),t.config=p.merge(t.config,s(s({},n),i)),t.config.id?(t.config.elem=u.get(t.config.id),t.config.elem.style.position="relative",t.config.elem.style.overflow="hidden"):(t.config.elem=u.get("body"),t.config.elem.style.position="relative",t.config.elem.style.overflow="hidden")}function le(){var t=this;u.addChild(t.config.elem,e(oe,t,ae).call(t,t.config)),t.config.moduleElem=u.child(t.config.elem,"[openui-id=".concat(t.config.moduleId,"]"))}function ae(e){return'<div class="open-loading" openui-id="'.concat(e.moduleId,'">\n\t\t\t<div class="open-loading-wrapper">\n\t\t\t\t<div class="open-loading-icon"><p></p></div>\n\t\t\t\t<p class="open-loading-text">').concat(e.text,"</p>\n\t\t\t</div>\n\t\t</div>")}var re={message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m.create(e)},modal:function(e){k.create(e)},dialog:function(e){return P.create(e)},drawer:function(e){return J.create(e)},tip:function(e){ee.create(e)},loading:function(e){return ie.create(e)}};export{re as default};
//# sourceMappingURL=opener.esm.min.js.map
